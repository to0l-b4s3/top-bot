/**
 * Message Formatting Utilities
 * Creates formatted WhatsApp messages with proper spacing and emojis
 */

class MessageFormatter {
  /**
   * Format product display with modern styling
   */
  static formatProduct(product) {
    return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ›ï¸  *${product.name}*
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ğŸ’° Price:     ZWL ${product.price.toFixed(2)}
â•‘ ğŸ“¦ Stock:     ${product.stock ? `âœ… ${product.stock}` : 'âœ… Available'}
â•‘ â­ Rating:    ${this.getStarRating(product.rating || 0)} ${product.rating || 'N/A'} (${product.reviews || 0} reviews)
${product.description ? `â•‘ ğŸ“ Details:   ${product.description}` : ''}
${product.image_url ? `â•‘ ğŸ–¼ï¸  Has product images` : ''}
â•‘
â•‘ ğŸ†” ID: ${product.id}
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‘‰ To add to cart:
   *!add ${product.id} <quantity>*
`.trim();
  }

  /**
   * Format order summary with modern design
   */
  static formatOrder(order) {
    const items = order.items.map((item, i) => 
      `   ${i + 1}. ${item.name} Ã—${item.quantity} â†’ ZWL ${(item.price * item.quantity).toFixed(2)}`
    ).join('\n');

    const statusBar = this.getStatusBar(order.status);

    return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ“¦  *ORDER #${order.id}*
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ğŸª Merchant: ${order.merchant_name}
â•‘ ğŸ“… Date:     ${new Date(order.created_at).toLocaleDateString()}
â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ Items Ordered:                      â”‚
â•‘ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
${items.split('\n').map(line => `â•‘ ${line}`).join('\n')}
â•‘ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â•‘ â”‚ Subtotal:  ZWL ${order.subtotal?.toFixed(2) || '0.00'}
â•‘ â”‚ Delivery:  ZWL ${order.delivery_fee?.toFixed(2) || '0.00'}
â•‘ â”‚ *TOTAL*:   ZWL ${order.total.toFixed(2)}
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ${statusBar}
â•‘
â•‘ ğŸ“ Location: ${order.delivery_address || 'Pickup'}
â•‘ â±ï¸  Time:     ${order.estimated_time || 'Processing'}
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
`.trim();
  }

  /**
   * Format cart display with modern styling
   */
  static formatCart(cart) {
    if (!cart?.items || cart.items.length === 0) {
      return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ›’  YOUR SHOPPING CART
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘       âœ¨ Cart is Empty! âœ¨
â•‘
â•‘    Start shopping now:
â•‘    ğŸ‘‰ Type: *!menu*
â•‘    ğŸ‘‰ Type: *!search <item>*
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      `.trim();
    }

    const itemsList = cart.items.map((item, i) =>
      `   ${i + 1}ï¸âƒ£  ${item.name}\n       Ã—${item.quantity} @ ZWL ${item.price} = ZWL ${(item.price * item.quantity).toFixed(2)}`
    ).join('\n\n');

    return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ›’  SHOPPING CART
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
${itemsList.split('\n').map(line => line ? `â•‘ ${line}` : 'â•‘').join('\n')}
â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ğŸ’° *TOTAL: ZWL ${cart.total.toFixed(2)}*
â•‘
â•‘ ğŸ”˜ QUICK ACTIONS:
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !cart       â†’ View cart details  â”‚
â•‘ â”‚ !remove <#> â†’ Remove item        â”‚
â•‘ â”‚ !clear      â†’ Empty cart         â”‚
â•‘ â”‚ !checkout   â†’ Place order        â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `.trim();
  }

  /**
   * Format merchant profile with modern card layout
   */
  static formatMerchantProfile(merchant) {
    const statusIcon = this.getStatusEmoji(merchant.status);
    const openStatus = merchant.store_status === 'open' ? 'ğŸŸ¢ OPEN' : merchant.store_status === 'closed' ? 'ğŸ”´ CLOSED' : 'ğŸŸ¡ BUSY';

    return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸª  *${merchant.business_name}*
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ğŸ‘¤ Owner:        ${merchant.owner_name}
â•‘ ğŸ“ Phone:        ${merchant.phone}
â•‘ ğŸ“ Location:     ${merchant.town || 'Not specified'}
â•‘ ğŸ·ï¸  Category:     ${merchant.category}
â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â° OPERATING HOURS
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ Opens:  ${merchant.opening_time || '09:00'}  |  Closes: ${merchant.closing_time || '17:00'}
â•‘ â”‚ Status: ${openStatus}
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ ğŸ“Š RATINGS & STATS
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ â­ Rating:    ${merchant.rating || 'N/A'}/5.0
â•‘ â”‚ ğŸ’¬ Reviews:   ${merchant.reviews || 0}
â•‘ â”‚ ğŸ‘¥ Followers: ${merchant.followers || 0}
â•‘ â”‚ ğŸšš Delivery:  ${merchant.delivery_radius || 'N/A'} km radius
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
${merchant.description ? `â•‘ ğŸ“ About: ${merchant.description}\nâ•‘` : ''}
â•‘ ğŸ”˜ ACTIONS:
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !menu             â†’ View products        â”‚
â•‘ â”‚ !add <id> <qty>   â†’ Add to cart          â”‚
â•‘ â”‚ !search <item>    â†’ Search in this store â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `.trim();
  }

  /**
   * Format analytics with dashboard layout
   */
  static formatAnalytics(analytics) {
    return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ“Š  ANALYTICS DASHBOARD
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ğŸ“ˆ TODAY'S PERFORMANCE
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ ğŸ“¦ Orders Today:      ${(analytics.orders_today || 0).toString().padEnd(10)}    
â•‘ â”‚ ğŸ’° Revenue Today:     ZWL ${(analytics.revenue_today || 0).toFixed(2).toString().padEnd(8)}
â•‘ â”‚ â±ï¸  Avg Order Time:    ${analytics.avg_time || 'N/A'}
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ“… WEEKLY SUMMARY
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ ğŸ“¦ Total Orders:      ${(analytics.weekly_orders || 0).toString().padEnd(10)}
â•‘ â”‚ ğŸ’¸ Total Revenue:     ZWL ${(analytics.weekly_revenue || 0).toFixed(2).toString().padEnd(8)}
â•‘ â”‚ ğŸ“Š Avg Daily Orders:  ${((analytics.weekly_orders || 0) / 7).toFixed(1)}
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸŒŸ TOP INSIGHTS
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ ğŸ† Top Product:       ${(analytics.top_product || 'N/A').substring(0, 25)}
â•‘ â”‚ ğŸ‘¥ Repeat Customers:  ${analytics.repeat_rate || 0}%
â•‘ â”‚ â° Peak Hours:        ${analytics.peak_hours || 'N/A'}
â•‘ â”‚ ğŸ”„ Customer Retention: ${analytics.retention_rate || 'N/A'}%
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `.trim();
  }

  /**
   * Format command menu with buttons and sections
   */
  static formatMenu(role = 'customer') {
    if (role === 'admin') {
      return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ‘¨â€ğŸ’¼  ADMIN COMMAND CENTER
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ğŸ“‹ MERCHANT MANAGEMENT
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !admin merchants pending               â”‚
â•‘ â”‚ !admin approve <id>   âœ… Approve       â”‚
â•‘ â”‚ !admin reject <id>    âŒ Reject        â”‚
â•‘ â”‚ !admin suspend <id>   â›” Suspend       â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ“Š SYSTEM MONITORING
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !admin sales today    ğŸ’° View sales    â”‚
â•‘ â”‚ !admin stats          ğŸ“ˆ Statistics    â”‚
â•‘ â”‚ !admin logs errors    ğŸ“‹ Error logs    â”‚
â•‘ â”‚ !admin alerts         ğŸš¨ Alerts       â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ“¢ COMMUNICATIONS
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !admin broadcast <msg> ğŸ“£ Send message â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ’¡ TIP: Type !help <command> for details
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      `.trim();
    }

    if (role === 'merchant') {
      return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸª  MERCHANT CONTROL PANEL
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ğŸ“¦ ORDER MANAGEMENT
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !merchant orders new   â¬œ New Orders   â”‚
â•‘ â”‚ !merchant accept <id>  âœ… Accept       â”‚
â•‘ â”‚ !merchant reject <id>  âŒ Reject       â”‚
â•‘ â”‚ !merchant update-status <id> <status>  â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ›ï¸  PRODUCT MANAGEMENT
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !merchant products list ğŸ“‹ All productsâ”‚
â•‘ â”‚ !merchant add-product   â• Add new     â”‚
â•‘ â”‚ !merchant edit-product <id> âœï¸ Edit    â”‚
â•‘ â”‚ !merchant delete-product <id> ğŸ—‘ï¸ Deleteâ”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ¢ STORE MANAGEMENT
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !merchant store profile ğŸ“ Profile     â”‚
â•‘ â”‚ !merchant store-status open/closed     â”‚
â•‘ â”‚ !merchant store-hours <open> <close>   â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ“Š ANALYTICS & INSIGHTS
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !merchant analytics today ğŸ“ˆ Dashboard â”‚
â•‘ â”‚ !merchant dashboard    ğŸ¯ Quick view   â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ’¡ TIP: Type !help <command> for details
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      `.trim();
    }

    // Customer menu
    return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ›’  CUSTOMER SHOPPING HUB
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ğŸ” BROWSING & SEARCH
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !menu or !m              ğŸ“‹ All items  â”‚
â•‘ â”‚ !search <item>           ğŸ” Search    â”‚
â•‘ â”‚ !categories              ğŸ“‚ Categoriesâ”‚
â•‘ â”‚ !nearby                  ğŸ“ Near you  â”‚
â•‘ â”‚ !deals                   ğŸ‰ Hot deals â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ›’ SHOPPING CART
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !add <id> <qty>          â• Add item  â”‚
â•‘ â”‚ !cart or !c              ğŸ›’ View cart â”‚
â•‘ â”‚ !remove <#>              ğŸ—‘ï¸ Remove    â”‚
â•‘ â”‚ !clear                   âš ï¸ Empty cart â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ’³ CHECKOUT & ORDERS
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !checkout or !pay        âœ… Place orderâ”‚
â•‘ â”‚ !orders                  ğŸ“¦ Order hist â”‚
â•‘ â”‚ !track <order_id>        ğŸ“ Track     â”‚
â•‘ â”‚ !reorder <order_id>      ğŸ”„ Reorder   â”‚
â•‘ â”‚ !rate <order_id> <1-5>   â­ Rate      â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ â¤ï¸ PREFERENCES
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â•‘ â”‚ !favorites [list|add|remove] â¤ï¸ Save â”‚
â•‘ â”‚ !addresses [list|add|remove] ğŸ“ Addr  â”‚
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•‘
â•‘ ğŸ’¡ TIP: Type !help <command> for details
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `.trim();
  }

  /**
   * Format error message with modern styling
   */
  static formatError(errorMessage, suggestion = '') {
    let msg = `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ âŒ  ERROR
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ${errorMessage}
${suggestion ? `â•‘
â•‘ ğŸ’¡ TIP: ${suggestion}` : ''}
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `.trim();
    return msg;
  }

  /**
   * Format success message with modern styling
   */
  static formatSuccess(message) {
    return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ âœ…  SUCCESS
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘
â•‘ ${message}
â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `.trim();
  }

  /**
   * Get star rating visual
   */
  static getStarRating(rating) {
    const fullStars = Math.floor(rating);
    const hasHalfStar = rating % 1 !== 0;
    let stars = 'â­'.repeat(fullStars);
    if (hasHalfStar) stars += 'âœ¨';
    return stars || 'âœ¨';
  }

  /**
   * Get status bar with progress indicator
   */
  static getStatusBar(status) {
    const statuses = {
      pending: { emoji: 'â³', bar: 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘', label: 'Pending' },
      confirmed: { emoji: 'âœ…', bar: 'â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘', label: 'Confirmed' },
      preparing: { emoji: 'ğŸ‘¨â€ğŸ³', bar: 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘', label: 'Preparing' },
      ready: { emoji: 'ğŸ“¦', bar: 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘', label: 'Ready' },
      out_for_delivery: { emoji: 'ğŸšš', bar: 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘', label: 'Out for Delivery' },
      delivered: { emoji: 'âœ…', bar: 'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ', label: 'Delivered' },
      cancelled: { emoji: 'âŒ', bar: 'â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘', label: 'Cancelled' },
    };

    const s = statuses[status] || statuses.pending;
    return `${s.emoji} Status: ${s.label}\n   Progress: ${s.bar} ${Math.round((Object.keys(statuses).indexOf(status) + 1) / Object.keys(statuses).length * 100)}%`;
  }

  /**
   * Get status emoji
   */
  static getStatusEmoji(status) {
    const emojis = {
      pending: 'â³',
      confirmed: 'âœ…',
      preparing: 'ğŸ‘¨â€ğŸ³',
      ready: 'ğŸ“¦',
      out_for_delivery: 'ğŸšš',
      delivered: 'âœ…',
      cancelled: 'âŒ',
      approved: 'âœ…',
      suspended: 'â›”',
      rejected: 'âŒ',
    };
    return emojis[status] || 'â“';
  }

  /**
   * Format top products list
   */
  static formatTopProducts(products) {
    if (!products || products.length === 0) {
      return 'No data yet';
    }

    return products.slice(0, 3)
      .map((p, i) => `${i + 1}. ${p.name} (${p.sold || 0} sold)`)
      .join('\n');
  }

  /**
   * Truncate long text
   */
  static truncate(text, maxLength = 100) {
    if (text.length > maxLength) {
      return text.substring(0, maxLength - 3) + '...';
    }
    return text;
  }

  /**
   * Format currency
   */
  static formatCurrency(amount, currency = 'ZWL') {
    return `${currency} ${amount.toFixed(2)}`;
  }

  /**
   * Format date/time
   */
  static formatDateTime(date) {
    return new Date(date).toLocaleString();
  }
}

module.exports = MessageFormatter;
